<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kanth JS">
<meta name="dcterms.date" content="2021-12-01">

<title>Kanthanawit Js - Github, R and RStudio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/pi.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WY647CK1PJ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-WY647CK1PJ', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../scss/styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/pi.png" alt="It's Pi" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">บล๊อก</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html" rel="" target="">
 <span class="menu-text">โปรเจกท์</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">สารบัญ</h2>
   
  <ul>
  <li><a href="#เกรน" id="toc-เกรน" class="nav-link active" data-scroll-target="#เกรน">เกริ่น</a></li>
  <li><a href="#ประโยชนของ-github" id="toc-ประโยชนของ-github" class="nav-link" data-scroll-target="#ประโยชนของ-github">ประโยชน์ของ Github</a>
  <ul class="collapse">
  <li><a href="#อานเพมเตมเกยวกบ-git-และ-github" id="toc-อานเพมเตมเกยวกบ-git-และ-github" class="nav-link" data-scroll-target="#อานเพมเตมเกยวกบ-git-และ-github">อ่านเพิ่มเติมเกี่ยวกับ Git และ Github</a></li>
  <li><a href="#การ-setup-github-กบ-rstudio" id="toc-การ-setup-github-กบ-rstudio" class="nav-link" data-scroll-target="#การ-setup-github-กบ-rstudio">การ setup Github กับ Rstudio</a></li>
  <li><a href="#สมคร-github" id="toc-สมคร-github" class="nav-link" data-scroll-target="#สมคร-github">สมัคร Github</a></li>
  <li><a href="#โหลด-github-desktop" id="toc-โหลด-github-desktop" class="nav-link" data-scroll-target="#โหลด-github-desktop">โหลด Github desktop</a></li>
  <li><a href="#setup-rstudio" id="toc-setup-rstudio" class="nav-link" data-scroll-target="#setup-rstudio">Setup RStudio</a></li>
  <li><a href="#การใชงาน-how-to-use" id="toc-การใชงาน-how-to-use" class="nav-link" data-scroll-target="#การใชงาน-how-to-use">การใช้งาน How to use</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Github, R and RStudio</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">Github</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kanth JS </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 1, 2021</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><img src="http://jmcglone.com/img/guides/git-basics.png#center" class="img-fluid"></p>
<section id="เกรน" class="level1">
<h1>เกริ่น</h1>
<p>หลังจากได้เรียนรู้เกี่ยวกับ R แล้ว ก็จะทราบว่า การทำงานกับ R นั้นคือการสั่งด้วยการ พิมพ์คำสั่ง (script หรือ code) ว่าด้วยเรื่องของการปฎิบัติ หลังจากที่ code เขียนเสร็จแล้ว ก็จะเก็บหรือ save ไว้ในเครื่องคอมของเรา ใช่ไหมหละครับ สมมุติว่า ขออธิบายตามรูปข้างบน ในแต่ละขั้นตอน เราจะ “save” ถ้าเราไม่มี Git เราก็จะไม่สามารถ กลับไป ก่อนที่เราจะ “save” ได้ ซึ่งโดย คนทั่วไป ก็จะเลือก “save as” กันใช่ไหมครับ เพื่อเลี่ยงการ save ทับ แล้ว เราก็จะมีหลาย version เช่น n เช่น fileAed1.R, fileAed2.R, fileAfinal.R, fileAfinal2.R หลายต่อหลาย version ซึ่งบางครั้ง อาจจะจำไม่ได้ว่าอันไหนเป็น version ที่ต้องการ แล้วถ้าโชคร้ายเราอาจจะเผลอ save ทับลงไปด้วยความบังเอิญ ถ้าเราใช้ Git แล้ว จะทำให้เราปวดหัวน้อยลง</p>
<p><img src="https://cdn-images-1.medium.com/max/2600/1*9PnPjPI65fGwLiMfluVLrw.jpeg#center" class="img-fluid" style="width:80.0%"></p>
<p>Git ก็คือระบบติดตามการเปลี่ยนแปลงของไฟล์ตลอดที่มีการบันทึก ทั้งการลบหรือการเพิ่ม อะไรลงไปในไฟล์ Git จะบันทึกและบอกหมด แรกเริ่มจริงๆแล้ว Git ถูกใช้กันในหมู่ นัก programmer ครับ programmers ใช้ Git เพื่อร่วมกันพัฒนา software หรือ code Git คือ version control system อันหนึ่ง แปลกันตรงๆ คือ ระบบที่ช่วยควบคุมลำดับและขั้นตอนของการพัฒนา code ช่วยให้ผู้พัฒนา code สามารถ บันทึกการพัฒนาลงไปใน code พูดง่ายๆ คือ Git จะช่วยผู้ใช้ทราบถึงการเปลี่ยนแปลงระหว่าง code ดั่งเดิม กับ code ที่พัฒนาขึ้นมา Git ไม่ใช่เจ้าหรือระบบเดียวที่เป็น version control ครับแต่ยังมี เช่น SVN แต่ Git เป็นที่นิยมมากกว่า</p>
<p>ถ้าไม่มี Github การจะทำงานร่วมกันกับ Git จะต้องพิมพ์ผ่าน command หรือ Terminal เท่านั้น ดังนั้น Github จึงถูกพัฒนาขึ้นมาเพื่อทำให้การทำงานกับ Git สะดวกและง่ายดายมากขึ้น โดยไม่ผ่าน command หรือ Terminal ซึ่ง ส่วนตัวแล้ว ผมชอบ Github แต่บางครั้ง การทำงานบน Github อาจจะมีปัญหาเกิดขึ้นได้ เช่น เกิด file conflict ได้ และ Github จะไม่ยอมให้เรา commit ดังนั้นเราจึงต้อง ทำบน Command หรือ Terminal แทน ผม คิดว่า ทางที่ดี ควรจะเรียนรู้ เกี่ยวกับ Git เบื้อนต้นไว้ ก็เป็นประโยชน์</p>
<p>Github คือ application ทำงานร่วมกันกับ Git โดยมี interface ที่ทำใช้งานง่ายและเป็นผู้ให้บริการเก็บ code ด้วย</p>
</section>
<section id="ประโยชนของ-github" class="level1">
<h1>ประโยชน์ของ Github</h1>
<ul>
<li><p>ช่วยเก็บ code ของเรา online คล้ายๆ dropbox หรือ google drive นอกจาก code แล้ว ยังสามารถเก็บ อะไรได้หลายอย่างนะครับ แต่ก็ไม่ได้ มาก เหมือน Google Drive Dropbox หรือ Onedrive แต่ก็สามารถเก็บ files ที่เราจะเอาไปวิเคราห์ หรือ รูปภาพ pdf ที่มีขนาดไม่ใหญ่มาก</p></li>
<li><p>ช่วยให้เราเห็นข้อแตกต่างของ code ที่ถูกบันทึกในช่วงเวลาต่างๆ เช่น ก่อนหน้านี้ หรือ ที่ถูกพัฒนาโดยเพื่อนร่วมทีมหรือคนอื่น</p></li>
<li><p>เอื้ออำนวยให้การร่วมกันพัฒนา code หรือ project นั้นๆ ได้อย่างราบรื่น ยกตัวอย่างเช่น project A มีนักพัฒนาสามคนร่วมกันพัฒนาจาก original code แต่ละคนก็พัฒนาจาก original code แตกกิ่งก้านการพัฒนาออกไป เมื่อมีนักพัฒนาอยากจะพัฒนาต่อจากที่นักพัฒนาทำไว้แล้วก็สามารถทำได้ หรืออยากจะพัฒนาจาก original code ก็สามารถทำได้เช่นกัน</p></li>
<li><p>บันทึก code ได้ทั้งในเครื่องคอมพิวเตอร์ และ บน github ในเวลาเดียวกัน ง่ายๆ คือ การ backup</p></li>
<li><p>การสมัครนั้นก็แสนจะง่ายครับ เข้าไปลงทะเบียน Github แล้วก็สามารถ download application ไว้ในเครื่องได้ครับ</p></li>
</ul>
<section id="อานเพมเตมเกยวกบ-git-และ-github" class="level2">
<h2 class="anchored" data-anchor-id="อานเพมเตมเกยวกบ-git-และ-github">อ่านเพิ่มเติมเกี่ยวกับ Git และ Github</h2>
<ul>
<li><p>ภาษาไทย Blog ของคุณ วัชรเมธน์ ชิษณุคุปต์ ศรีเนธิโรทัย <a href="http://www.select2web.com/git/git-1.html">Git คืออะไร</a> ซึ่งอธิบายได้อย่างดีมาก</p></li>
<li><p>English จาก Data School <a href="http://www.dataschool.io/git-and-github-videos-for-beginners/">Git and Github for Beginner</a> อันนี้ก็ดีงามด้วยประการทั้งปวงครับ</p></li>
</ul>
<p>ปล.ถ้าพบว่าข้อมีจุดใดไม่ถูกต้อง หรืออธิบายไม่ถูกต้องสามารถเขียนแนะนำเข้ามาได้ครับ จะขอบคุณอย่างมาก</p>
</section>
<section id="การ-setup-github-กบ-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="การ-setup-github-กบ-rstudio">การ setup Github กับ Rstudio</h2>
<p><img src="http://38.media.tumblr.com/tumblr_mbsea7csd11qbchbvo1_500.gif#center" class="img-fluid" style="width:80.0%"></p>
<p>การทำงานร่วมกันระหว่าง R ใน text editor ที่มี ขื่อว่า RStudio นั้น ช่วยสร้างความสะดวกหลายอย่าง ทำให้การใช้งานกับ อาร์นั้นไม่เป็นที่น่าหงุดหงิด แต่ความพิเศษนั้น ยังมีอีกคือ มี function ที่สามารถทำงานร่วมกันกับ Github desktop ซึ่ง เชื่อมต่อกับ Github</p>
</section>
<section id="สมคร-github" class="level2">
<h2 class="anchored" data-anchor-id="สมคร-github">สมัคร Github</h2>
<p><a href="https://github.com/">Click</a> เข้าไปที่เวป https://github.com/ ครับ แล้วก็เข้าไป sign up เลยครับ อันนี้ สำหรับคนที่ยังไม่มี account</p>
<p><img src="http://stevenstromick.com/wp-content/uploads/2018/11/signup-github.com_.png#center" class="img-fluid"></p>
</section>
<section id="โหลด-github-desktop" class="level2">
<h2 class="anchored" data-anchor-id="โหลด-github-desktop">โหลด Github desktop</h2>
<p>คลิ้ก โหลด ได้ ที่นี่เลยครับ <a href="https://desktop.github.com/">Github Desktop</a> มี ทั้ง Mac และ Window ครับ หน้านี้ก็จะมีอธิบายไว้นะครับ เอาหละครับ ผมจะไม่อธิบายในส่วนนี้นะครับ เพราะว่า เราโหลดเพราะว่า เราจะใช้แค่ Function ของมันเท่านั้น แต่เราจะเชื่อมต่อ Github desktop กับ RStudio แล้วเราจะ ใช้งาน Github จากโปแกรม RStudio ครับ</p>
<p>คงไม่งงนะครับ ก่อนที่จะเข้าไป set ใน RStudio เราจะต้องเข้ามา set ใน Github ก่อน นั้นคือ sign in account Github desktop ก่อนให้เรียบร้อย</p>
<p>โดย ของ Mac ก็ คล้ายๆ กับโปรแกรมทั่วๆไป คือ เข้าไป ที่ Preference &gt; Accounts ใส่ email address และ password ให้เรียบร้อย</p>
<p>ส่วน Window ไปที่ setting แล้วก็เข้า ไปใส่ email address และ password เช่นกัน</p>
</section>
<section id="setup-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="setup-rstudio">Setup RStudio</h2>
<p>เมื่อเสร็จเรียบร้อยแล้ว ก็ ทำการเปิด RStudio ครับ ถ้าใครมาหน้านี้แล้วยังไม่รู้จัก RStudio ขอให้กลับไปอ่าน เกี่ยวกับการโหลด และใช้งานกันก่อนนะครับ</p>
<p>เปิด Studio ไปที่ tool bar ข้างบน จะเจอคำว่า Tools -&gt; Global Options หา Git/SVN แล้ว คลื้ก ช่องที่ผม ทำสีแดงไว้นะครับ เท่านี้ โปรแกรมก็จะหาที่อยู่ ที่จะไว้ใช้เรียก Github</p>
<p><img src="https://support.rstudio.com/hc/en-us/article_attachments/203718287/Screen_Shot_2015-11-09_at_4.59.40_PM.png#center" class="img-fluid" style="width:80.0%"></p>
<p>ถ้าเป็น Mac ตัวสุดท้าย จะปรากฎ git ถ้าเป็น Window จะต้องปรากฎ git.exe นะครับ แล้วโปรแกรมจะขอให้เรา restart ครับ ก็ restart</p>
<p>สมมุติว่า RStudio หายังไม่เจอ อาจจะเป็นเพราะว่า Git ไม่อยู่ไม่ถูกที่ RStudio จึงหาไม่เจอ ให้ลอง พิมพ์</p>
<blockquote class="blockquote">
<p>Sys.which(“git”)</p>
</blockquote>
<blockquote class="blockquote">
<p>/usr/local/git # git อยู่ที่นี้เอง ดังนั้นเราก็ไปตามหามัน</p>
</blockquote>
<p>คุณก็ไปหามันให้ถูก หรือถ้ามีปัญหาลองเข้าไปอ่านที่นี่ก่อนครับ <a href="https://support.rstudio.com/hc/en-us/articles/200532077-Version-Control-with-Git-and-SVN">RStudio not finding Git on Mac OS</a></p>
</section>
<section id="การใชงาน-how-to-use" class="level2">
<h2 class="anchored" data-anchor-id="การใชงาน-how-to-use">การใช้งาน How to use</h2>
<ol type="1">
<li>New repository เรื่มต้น จะต้อง สร้าง Project ก่อนครับ ใน อาร์ จะเรียกว่า Project แต่ พอ เข้าไปใน Github เขาจะเรียกว่า repository หรือเรียกสั้นๆ เขาก็จะเรียกกันว่า repo เข้าไปที่ github.com ใน account ของเรา มองหาปุ๋ม สีเขียว ที่เขียนว่า new repository ครับ</li>
<li>Name repository คลิ้กแล้วก็ สร้าง repo ชื่อว่า test แล้วกัน ครับ</li>
<li>Copy repo URL หลังจากนั้น จะเห็นหน้านี้ขึ้นมาอย่าเพิ่งตกใจครับ เพราะว่า เรายังไม่มีอะไรอยู่ใน repo นี้เลย copy ที่ผมทำสีแดงนี้ไว้นะครับ</li>
</ol>
<p>พอมาถึงตอนนี้ ในส่วนของ github เสร็จไปเรียบร้อยแล้ว เอาหละครับ ทีนี้ ก็จะเข้ามาทำในส่วนของ RStudio กันต่อ</p>
<ol start="4" type="1">
<li><p>create new project in RStudio เปิด RStudio ครับ เข้าไปที่ ขวาบน ครับ จะเจอคำว่า Project คลิ้ก ครับ &gt; New Project</p></li>
<li><p>select Project &gt; Version Control แล้วหน้าต่าง นี้ก็จะโผล่ขึ้นมา แล้วเลือก Version Control แล้ว เลือก Git</p></li>
<li><p>Version Control เลือก Git</p></li>
<li><p>paste repo url เข้ามาหน้านี้ URL ที่ ผมบอกให้ copy มาจาก github มาใส่ ลงในช่วง Repository URL ตรงนี้ เลย ครับ แล้วก็ คลิ้ก Create Project ครับ เท่านี้ ก็เรียบร้อยแล้ว</p></li>
</ol>
<p>ภาพนี้ ก็เป็นภาพการ์ตูน ที่แสดงให้เห็นว่า เมื่อเราทำงานกับ Git เราจะสามารถเห็นความเปลี่ยนแปลงของ script โดยที่เราไม่จำเป็นจะต้องเปลี่ยนชื่อไฟล์</p>
<p><img src="http://imgs.xkcd.com/comics/git_commit.png#center" class="img-fluid"></p>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>