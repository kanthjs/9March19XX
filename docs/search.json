[
  {
    "objectID": "posts/2021-12-03-Harvest-Data-from-Web-Sources/index.html",
    "href": "posts/2021-12-03-Harvest-Data-from-Web-Sources/index.html",
    "title": "ดึงข้อมูล xml จาก The Thai Astonomical society",
    "section": "",
    "text": "เกริ่น\nData มีอยู่ทุกที่ ยิ่งในยุคนี้แล้ว มีช่องทางโดยเฉพาะทางอินเตอร์มีช่องทางโดยเฉพาะทางอินเตอร์เนต ที่เปิดโอกาสให้เข้าถึงข้อมูลได้ง่าย โดยไม่ต้องขออนุญาตให้ยุ่งยากอีกต่โดยไม่ต้องขออนุญาตให้ยุ่งยากอีกต่อไป\nเลยอยากจะบันทึกเอาไว้มามีที่ไหนบ้าง รวมถึงวิธีเข้าด้วยว่า สามารถเอามาได้อย่างไร แบบดิบ ๆ\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n\nlibrary(knitr)\nlibrary(patchwork)\nlibrary(ggthemes)\nlibrary(rmarkdown)\nlibrary(cowplot)\n\n\nAttaching package: 'cowplot'\n\nThe following object is masked from 'package:ggthemes':\n\n    theme_map\n\nThe following object is masked from 'package:patchwork':\n\n    align_plots\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\n\ntheme_set(theme_few())\nknitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)\noptions(digits = 3)\n\nlibrary ที่ใช้สำหรับดึงข้อมูลมีดังนี้และจ\n\n#install.packages(\"devtools\")\n#devtools::install_github(\"crubba/htmltab\")\n\nlibrary(htmltab)\nlibrary(lubridate)\nlibrary(scales)\nlibrary(chron)\n\n\n\nดึงข้อมูล\nดึงข้อมูล เวลาดวงอาทิตย์และดวงจันทร์ขึ้น-ตก จาก สมาคมดาราศาสตร์ไทย http://thaiastro.nectec.or.th/skyevnt/sunmoon/riseset.html\nเรามาลองเริ่มเอาข้อมูลจากแต่ละหน้า ยกตัวอย่าง http://thaiastro.nectec.or.th/skyevnt/sunmoon/2021/krabi.html จะพบว่า 1 หน้า แสดงตารางเวลาดวงอาทิตย์ขึ้นและตกและพระจันทร์ขึ้นและตก ในแต่ละเดือน ทั้งหมด 12 ตาราง เริ่มตั้งแต่ เดือน มกราคม - ธันวาคม ดังนั้น เราจึงต้องดึงข้อมูลมาเป็นหน้า ๆ เพื่อเก็บ ในแต่ละปี และแต่ละจังหวัด\nเรามาลองแกะแต่ละหน้ากัน\n\nweb <- 'http://thaiastro.nectec.or.th/skyevnt/sunmoon/2021/krabi.html'\n\nดึงตาราง ที่ 1\n\nhtmltab::htmltab(web, which = 1) %>% head()\n\n     วันที่ วัน ดวงอาทิตย์ขึ้น ดวงอาทิตย์ขึ้น ดวงอาทิตย์ตก ดวงอาทิตย์ตก ดิถีจันทร์(%) ดวงจันทร์ขึ้น\n2    วันที่ วัน       เวลา       มุมทิศ       เวลา       มุมทิศ ดิถีจันทร์(%)      เวลา\n3 1 ม.ค.  ศ      06:38       113°      18:18       247°       96−     20:21\n4 2 ม.ค.  ส      06:38       113°      18:18       247°       90−     21:16\n5 3 ม.ค. อา      06:39       113°      18:19       247°       83−     22:09\n6 4 ม.ค.  จ      06:39       113°      18:19       247°       74−     23:02\n7 5 ม.ค.  อ      06:39       113°      18:20       247°       63−     23:54\n  ดวงจันทร์ขึ้น ดวงจันทร์ตก ดวงจันทร์ตก\n2      มุมทิศ      เวลา      มุมทิศ\n3       68°     08:21      293°\n4       72°     09:12      290°\n5       77°     10:01      286°\n6       82°     10:47      281°\n7       88°     11:32      275°\n\n\nดึงตารางที่ 2\n\nhtmltab::htmltab(web, which = 2) %>% head()\n\n     วันที่ วัน ดวงอาทิตย์ขึ้น ดวงอาทิตย์ขึ้น ดวงอาทิตย์ตก ดวงอาทิตย์ตก ดิถีจันทร์(%) ดวงจันทร์ขึ้น\n2    วันที่ วัน       เวลา       มุมทิศ       เวลา       มุมทิศ ดิถีจันทร์(%)      เวลา\n3 1 ก.พ.  จ      06:44       107°      18:32       253°       86−     21:50\n4 2 ก.พ.  อ      06:44       107°      18:32       253°       77−     22:42\n5 3 ก.พ.  พ      06:44       107°      18:32       254°       67−     23:36\n6 4 ก.พ. พฤ      06:44       106°      18:32       254°       56−         –\n7 5 ก.พ.  ศ      06:44       106°      18:33       254°       45−     00:30\n  ดวงจันทร์ขึ้น ดวงจันทร์ตก ดวงจันทร์ตก\n2      มุมทิศ      เวลา      มุมทิศ\n3       86°     09:30      277°\n4       92°     10:16      271°\n5       99°     11:01      264°\n6         –     11:48      259°\n7      104°     12:37      253°\n\n\nจะเห็นว่าเราต้องกำหนดว่าจะเอาเดือนไหน เดือน which = 1 คือ เดือนที่ 1 หรือ เดือน มกราคม\nเรามาลองใช้ข้อมูลจากตารางที่ 1 กัน\n\ntable1 <- htmltab::htmltab(web, which = 1)\n\nจากตารางตรงนี้เราจะเห็นว่า\n\ntable1 <- htmltab::htmltab(web, which = 1)\ntable1\n\n       วันที่ วัน ดวงอาทิตย์ขึ้น ดวงอาทิตย์ขึ้น ดวงอาทิตย์ตก ดวงอาทิตย์ตก ดิถีจันทร์(%) ดวงจันทร์ขึ้น\n2      วันที่ วัน       เวลา       มุมทิศ       เวลา       มุมทิศ ดิถีจันทร์(%)      เวลา\n3   1 ม.ค.  ศ      06:38       113°      18:18       247°       96−     20:21\n4   2 ม.ค.  ส      06:38       113°      18:18       247°       90−     21:16\n5   3 ม.ค. อา      06:39       113°      18:19       247°       83−     22:09\n6   4 ม.ค.  จ      06:39       113°      18:19       247°       74−     23:02\n7   5 ม.ค.  อ      06:39       113°      18:20       247°       63−     23:54\n8   6 ม.ค.  พ      06:40       113°      18:20       247°       52−         –\n9   7 ม.ค. พฤ      06:40       112°      18:21       248°       41−     00:46\n10  8 ม.ค.  ศ      06:41       112°      18:22       248°       30−     01:39\n11  9 ม.ค.  ส      06:41       112°      18:22       248°       20−     02:35\n12 10 ม.ค. อา      06:41       112°      18:23       248°       11−     03:34\n13 11 ม.ค.  จ      06:42       112°      18:23       248°        5−     04:35\n14 12 ม.ค.  อ      06:42       112°      18:23       248°        1−     05:37\n15 13 ม.ค.  พ      06:42       112°      18:24       249°        0−     06:38\n16 14 ม.ค. พฤ      06:42       111°      18:24       249°        1+     07:35\n17 15 ม.ค.  ศ      06:43       111°      18:25       249°        5+     08:27\n18 16 ม.ค.  ส      06:43       111°      18:25       249°       10+     09:15\n19 17 ม.ค. อา      06:43       111°      18:26       249°       17+     09:58\n20 18 ม.ค.  จ      06:43       111°      18:26       249°       25+     10:38\n21 19 ม.ค.  อ      06:43       110°      18:27       250°       34+     11:17\n22 20 ม.ค.  พ      06:44       110°      18:27       250°       44+     11:54\n23 21 ม.ค. พฤ      06:44       110°      18:28       250°       53+     12:32\n24 22 ม.ค.  ศ      06:44       110°      18:28       250°       62+     13:12\n25 23 ม.ค.  ส      06:44       110°      18:28       251°       71+     13:54\n26 24 ม.ค. อา      06:44       109°      18:29       251°       80+     14:39\n27 25 ม.ค.  จ      06:44       109°      18:29       251°       87+     15:27\n28 26 ม.ค.  อ      06:44       109°      18:30       251°       93+     16:20\n29 27 ม.ค.  พ      06:44       109°      18:30       252°       97+     17:15\n30 28 ม.ค. พฤ      06:44       108°      18:30       252°      100+     18:11\n31 29 ม.ค.  ศ      06:44       108°      18:31       252°      100−     19:07\n32 30 ม.ค.  ส      06:44       108°      18:31       252°       98−     20:03\n33 31 ม.ค. อา      06:44       107°      18:31       253°       93−     20:57\n   ดวงจันทร์ขึ้น ดวงจันทร์ตก ดวงจันทร์ตก\n2       มุมทิศ      เวลา      มุมทิศ\n3        68°     08:21      293°\n4        72°     09:12      290°\n5        77°     10:01      286°\n6        82°     10:47      281°\n7        88°     11:32      275°\n8          –     12:17      269°\n9        94°     13:03      263°\n10      100°     13:50      257°\n11      106°     14:41      252°\n12      110°     15:36      248°\n13      113°     16:34      246°\n14      115°     17:35      245°\n15      115°     18:36      246°\n16      113°     19:34      248°\n17      110°     20:29      252°\n18      105°     21:20      257°\n19      101°     22:08      262°\n20       95°     22:54      267°\n21       90°     23:38      272°\n22       85°         –         –\n23       80°     00:21      278°\n24       75°     01:06      282°\n25       71°     01:52      287°\n26       68°     02:40      290°\n27       66°     03:30      293°\n28       65°     04:23      295°\n29       65°     05:17      295°\n30       67°     06:11      294°\n31       70°     07:04      291°\n32       75°     07:55      287°\n33       80°     08:44      282°\n\n\nเราจะเห็นว่าตารางที่เราได้มาจากเวป มันยังไม่พร้อมที่จะเอาไปใช้ได้เลย เพราะว่า ยังมีคอลัมน์ที่เราไม่ใช้ หรือ แถวบางแถวที่เราไม่ใช้ ดังนั้นเราจะต้องเอาออก นั้นคือ แถวที่ 1 และ 3 และ คอลัมน์ที่ 1 3 และ 5 จึงได้\n\ntable1_ed <- table1[c(-1, -2), c(1, 3, 5)]\ntable1_ed\n\n       วันที่ ดวงอาทิตย์ขึ้น ดวงอาทิตย์ตก\n4   2 ม.ค.      06:38      18:18\n5   3 ม.ค.      06:39      18:19\n6   4 ม.ค.      06:39      18:19\n7   5 ม.ค.      06:39      18:20\n8   6 ม.ค.      06:40      18:20\n9   7 ม.ค.      06:40      18:21\n10  8 ม.ค.      06:41      18:22\n11  9 ม.ค.      06:41      18:22\n12 10 ม.ค.      06:41      18:23\n13 11 ม.ค.      06:42      18:23\n14 12 ม.ค.      06:42      18:23\n15 13 ม.ค.      06:42      18:24\n16 14 ม.ค.      06:42      18:24\n17 15 ม.ค.      06:43      18:25\n18 16 ม.ค.      06:43      18:25\n19 17 ม.ค.      06:43      18:26\n20 18 ม.ค.      06:43      18:26\n21 19 ม.ค.      06:43      18:27\n22 20 ม.ค.      06:44      18:27\n23 21 ม.ค.      06:44      18:28\n24 22 ม.ค.      06:44      18:28\n25 23 ม.ค.      06:44      18:28\n26 24 ม.ค.      06:44      18:29\n27 25 ม.ค.      06:44      18:29\n28 26 ม.ค.      06:44      18:30\n29 27 ม.ค.      06:44      18:30\n30 28 ม.ค.      06:44      18:30\n31 29 ม.ค.      06:44      18:31\n32 30 ม.ค.      06:44      18:31\n33 31 ม.ค.      06:44      18:31\n\n\nนี่ก็คือ ตัวอย่างที่ใช้ในการดึงข้อมูลตารางจากเวปมา แต่เมื่อเราทำงานจริง ๆ เราไมได้ เราอาจจะต้องการ รวมทุกเดือนในแต่ละปี หรือ ทุกจังหวัด ก็เป็นได้\n\n\nการดึงข้อมูลทั้งหน้าเวป\nจากที่เราเห็นโครงสร้าง url ของเวปแล้ว http://thaiastro.nectec.or.th/skyevnt/sunmoon/2021/krabi.html จะเห็นว่า /2021/krabi.html ขึ้นด้วยปี และ ต่อด้วยจังหวัด ดังนั้น เราจะต้องเปิด ปี และ จังหวัด ไปทีละ หน้า แล้ว ดึงข้อมูล ทั้ง 12 เดือน เราจึงต้องใช้ loop ช่วย และ นี่ คือ ขั้นตอนการดึงข้อมูล\n\nสร้าง vector ที่เราต้องการก่อน นั้นก็คือ ปี จังหวัด และ เดือน\n\n\n# create the vector of province names you need to see\nprovince.list <- c(\"chiangmai\", \"krabi\" )\n\n# now there are only data from 2011 to 2019 to create the year list\nyear.list <- as.character(2019:2020)\n\n# there are 12 months to create the month list\nmonth.no <- as.character(1:12)\n\n\nต่อมา ผมจะมา loop โดยเริ่มจากดึงข้อมูล ตารางแต่ละตาราง ในแต่ละปี และ จังหวัด ซึ่ง จะเป็น loop 3 ชั้น คือ loop แรก คือ แต่ละเดือน ต่อมา จะเป็น ปี และ จังหวัด ซึ่ง โจทย์ของผม คือ ผมอยากจะรู้ว่า ช่วงเวลาที่พระอาทิตย์ขึ้นและตกในแต่ละวัน เป็นระยะเวลาเท่าเรา และ ใน 1 ปี จะเป็นอย่างไร ในแต่ละ จังหวัดนั้น อย่างไร\n\n\n# set the data list to keep the data in list type\ndatalist <- list()\n\n#### looping it ####\n\nfor (i in 1:length(province.list)) {\n  for (j in 1:length(year.list)) {\n    for (k in 1:12) {\n      # call the web site\n      web <-\n        paste0(\n          \"http://thaiastro.nectec.or.th/skyevnt/sunmoon/\",\n          year.list[i],\n          \"/\",\n          province.list[i],\n          \".html\"\n        )\n\n      # extract table from website and select the column related\n      data <- htmltab(web, which = k)[c(-1, -2), c(1, 3, 5)]\n\n      # rename the column names from thai to eng\n      names(data) <- c(\"date\", \"sunrise\", \"sunset\")\n\n      # restructure the data table in the right type\n      data <- data %>% mutate(\n        location = province.list[i],\n        year = year.list[j],\n        month = month.no[k],\n        date = c(1:length(data$date)),\n        sunrise = chron::times(paste0(data$sunrise, \":00\")),\n        sunset = chron::times(paste0(data$sunset, \":00\")),\n        date = as.character(date)\n      )\n\n      # create new photoperiod variable\n      data$photoperiod <-\n        difftime(\n          strptime(data$sunset, \"%H:%M:%S\"),\n          strptime(data$sunrise, \"%H:%M:%S\"),\n          units = \"hours\"\n        ) %>% as.numeric()\n\n      #\n      data$day_month_year <-\n        as.Date(paste0(data$date, \"/\" , data$month, \"/\",\n                       data$year),\n                format = \"%d/%m/%y\")\n\n      data$dayofyear <-\n        as.numeric(format(data$day_month_year, \"%j\"))\n\n      data$CommonDate <-\n          as.Date(paste0(\"2000-\", format(data$day_month_year,\n                                         \"%j\")), \"%Y-%j\")\n\n#define list no to collect data table\n      datalist[[((i - 1) * (12 * length(year.list))) + (12 * (j - 1)) +\n                  k]] <- data\n    }\n  }\n}\n\n# combind list data in to one data frame\ncomb_data <- do.call(rbind, datalist)\n\nเราก็จะได้ ข้อมูลของ จังหวัดเชียงใหม่ กับจังหวัดกระบี่ ตั้งแต่ปี 2019 และ 2020\n\npaged_table(comb_data)\n\n\n\n  \n\n\n\n\ncomb_data %>% ggplot(aes(x = CommonDate, y = photoperiod, color = location)) +\n    geom_point(alpha = 0.6) +\n  scale_x_date(\n    labels = function(x)\n      format(x, \"%d-%b\"),\n    date_breaks = \"1 month\"\n  ) +\n  theme_bw() + theme(axis.text = element_text(size = 12),\n                     axis.title = element_text(size = 12)) +\n  xlab(\"Date\") + ylab(\"Sunlight duration (hrs)\")"
  },
  {
    "objectID": "posts/2021-12-01-Github-RStudio-R/index.html#อานเพมเตมเกยวกบ-git-และ-github",
    "href": "posts/2021-12-01-Github-RStudio-R/index.html#อานเพมเตมเกยวกบ-git-และ-github",
    "title": "Github, R and RStudio",
    "section": "อ่านเพิ่มเติมเกี่ยวกับ Git และ Github",
    "text": "อ่านเพิ่มเติมเกี่ยวกับ Git และ Github\n\nภาษาไทย Blog ของคุณ วัชรเมธน์ ชิษณุคุปต์ ศรีเนธิโรทัย Git คืออะไร ซึ่งอธิบายได้อย่างดีมาก\nEnglish จาก Data School Git and Github for Beginner อันนี้ก็ดีงามด้วยประการทั้งปวงครับ\n\nปล.ถ้าพบว่าข้อมีจุดใดไม่ถูกต้อง หรืออธิบายไม่ถูกต้องสามารถเขียนแนะนำเข้ามาได้ครับ จะขอบคุณอย่างมาก"
  },
  {
    "objectID": "posts/2021-12-01-Github-RStudio-R/index.html#การ-setup-github-กบ-rstudio",
    "href": "posts/2021-12-01-Github-RStudio-R/index.html#การ-setup-github-กบ-rstudio",
    "title": "Github, R and RStudio",
    "section": "การ setup Github กับ Rstudio",
    "text": "การ setup Github กับ Rstudio\n\nการทำงานร่วมกันระหว่าง R ใน text editor ที่มี ขื่อว่า RStudio นั้น ช่วยสร้างความสะดวกหลายอย่าง ทำให้การใช้งานกับ อาร์นั้นไม่เป็นที่น่าหงุดหงิด แต่ความพิเศษนั้น ยังมีอีกคือ มี function ที่สามารถทำงานร่วมกันกับ Github desktop ซึ่ง เชื่อมต่อกับ Github"
  },
  {
    "objectID": "posts/2021-12-01-Github-RStudio-R/index.html#สมคร-github",
    "href": "posts/2021-12-01-Github-RStudio-R/index.html#สมคร-github",
    "title": "Github, R and RStudio",
    "section": "สมัคร Github",
    "text": "สมัคร Github\nClick เข้าไปที่เวป https://github.com/ ครับ แล้วก็เข้าไป sign up เลยครับ อันนี้ สำหรับคนที่ยังไม่มี account"
  },
  {
    "objectID": "posts/2021-12-01-Github-RStudio-R/index.html#โหลด-github-desktop",
    "href": "posts/2021-12-01-Github-RStudio-R/index.html#โหลด-github-desktop",
    "title": "Github, R and RStudio",
    "section": "โหลด Github desktop",
    "text": "โหลด Github desktop\nคลิ้ก โหลด ได้ ที่นี่เลยครับ Github Desktop มี ทั้ง Mac และ Window ครับ หน้านี้ก็จะมีอธิบายไว้นะครับ เอาหละครับ ผมจะไม่อธิบายในส่วนนี้นะครับ เพราะว่า เราโหลดเพราะว่า เราจะใช้แค่ Function ของมันเท่านั้น แต่เราจะเชื่อมต่อ Github desktop กับ RStudio แล้วเราจะ ใช้งาน Github จากโปแกรม RStudio ครับ\nคงไม่งงนะครับ ก่อนที่จะเข้าไป set ใน RStudio เราจะต้องเข้ามา set ใน Github ก่อน นั้นคือ sign in account Github desktop ก่อนให้เรียบร้อย\nโดย ของ Mac ก็ คล้ายๆ กับโปรแกรมทั่วๆไป คือ เข้าไป ที่ Preference > Accounts ใส่ email address และ password ให้เรียบร้อย\nส่วน Window ไปที่ setting แล้วก็เข้า ไปใส่ email address และ password เช่นกัน"
  },
  {
    "objectID": "posts/2021-12-01-Github-RStudio-R/index.html#setup-rstudio",
    "href": "posts/2021-12-01-Github-RStudio-R/index.html#setup-rstudio",
    "title": "Github, R and RStudio",
    "section": "Setup RStudio",
    "text": "Setup RStudio\nเมื่อเสร็จเรียบร้อยแล้ว ก็ ทำการเปิด RStudio ครับ ถ้าใครมาหน้านี้แล้วยังไม่รู้จัก RStudio ขอให้กลับไปอ่าน เกี่ยวกับการโหลด และใช้งานกันก่อนนะครับ\nเปิด Studio ไปที่ tool bar ข้างบน จะเจอคำว่า Tools -> Global Options หา Git/SVN แล้ว คลื้ก ช่องที่ผม ทำสีแดงไว้นะครับ เท่านี้ โปรแกรมก็จะหาที่อยู่ ที่จะไว้ใช้เรียก Github\n\nถ้าเป็น Mac ตัวสุดท้าย จะปรากฎ git ถ้าเป็น Window จะต้องปรากฎ git.exe นะครับ แล้วโปรแกรมจะขอให้เรา restart ครับ ก็ restart\nสมมุติว่า RStudio หายังไม่เจอ อาจจะเป็นเพราะว่า Git ไม่อยู่ไม่ถูกที่ RStudio จึงหาไม่เจอ ให้ลอง พิมพ์\n\nSys.which(“git”)\n\n\n/usr/local/git # git อยู่ที่นี้เอง ดังนั้นเราก็ไปตามหามัน\n\nคุณก็ไปหามันให้ถูก หรือถ้ามีปัญหาลองเข้าไปอ่านที่นี่ก่อนครับ RStudio not finding Git on Mac OS"
  },
  {
    "objectID": "posts/2021-12-01-Github-RStudio-R/index.html#การใชงาน-how-to-use",
    "href": "posts/2021-12-01-Github-RStudio-R/index.html#การใชงาน-how-to-use",
    "title": "Github, R and RStudio",
    "section": "การใช้งาน How to use",
    "text": "การใช้งาน How to use\n\nNew repository เรื่มต้น จะต้อง สร้าง Project ก่อนครับ ใน อาร์ จะเรียกว่า Project แต่ พอ เข้าไปใน Github เขาจะเรียกว่า repository หรือเรียกสั้นๆ เขาก็จะเรียกกันว่า repo เข้าไปที่ github.com ใน account ของเรา มองหาปุ๋ม สีเขียว ที่เขียนว่า new repository ครับ\nName repository คลิ้กแล้วก็ สร้าง repo ชื่อว่า test แล้วกัน ครับ\nCopy repo URL หลังจากนั้น จะเห็นหน้านี้ขึ้นมาอย่าเพิ่งตกใจครับ เพราะว่า เรายังไม่มีอะไรอยู่ใน repo นี้เลย copy ที่ผมทำสีแดงนี้ไว้นะครับ\n\nพอมาถึงตอนนี้ ในส่วนของ github เสร็จไปเรียบร้อยแล้ว เอาหละครับ ทีนี้ ก็จะเข้ามาทำในส่วนของ RStudio กันต่อ\n\ncreate new project in RStudio เปิด RStudio ครับ เข้าไปที่ ขวาบน ครับ จะเจอคำว่า Project คลิ้ก ครับ > New Project\nselect Project > Version Control แล้วหน้าต่าง นี้ก็จะโผล่ขึ้นมา แล้วเลือก Version Control แล้ว เลือก Git\nVersion Control เลือก Git\npaste repo url เข้ามาหน้านี้ URL ที่ ผมบอกให้ copy มาจาก github มาใส่ ลงในช่วง Repository URL ตรงนี้ เลย ครับ แล้วก็ คลิ้ก Create Project ครับ เท่านี้ ก็เรียบร้อยแล้ว\n\nภาพนี้ ก็เป็นภาพการ์ตูน ที่แสดงให้เห็นว่า เมื่อเราทำงานกับ Git เราจะสามารถเห็นความเปลี่ยนแปลงของ script โดยที่เราไม่จำเป็นจะต้องเปลี่ยนชื่อไฟล์"
  },
  {
    "objectID": "posts/2021-10-01-Homogeneity-test-in-R/index.html",
    "href": "posts/2021-10-01-Homogeneity-test-in-R/index.html",
    "title": "Homogeneity test in R",
    "section": "",
    "text": "ก่อนที่เราจะทำการวิเคราะห์ ANOVA เราจะต้องตรวจ ว่า assumption ของ ANOVA นั้น ผ่านหรือไม่ เมื่อเราต้องการเปรียบเทียบ กลุ่มตัวอย่าง 2 กลุ่ม หรือ มากกว่า ว่ามีค่าเฉลี่ยแตกต่างกันหรือไม่ทางสถิติ (ผมไม่ได้เป็นนักสถิติจริงจัง ผมเอาแค่ใช้งาน ดังนั้นต่อไปนี้อ่านไว้เฉยๆ อย่าไปอางอิงอะไรนะครับ)\nความแปรปรวนต้องไม่แตกต่างกันอย่างมีนัยทางสถิติ นั้นก็คือ ไอ้เขาสองลูกนี้ ควรจะไม่แตกต่างกันมากนัก ถึงจะเอามาเปรียบเทียบกันได้ จริงไหม แล้วจะรู้ได้อย่างไร สมมุติ มี การทดลอง ชื่อ F10 กับ F50 วัดผลออกมาดังนี้ ผมเอาตัวอย่างข้อมูลจากหนังสือชื่อ สถิติ:การวางแผนการทดลองและการวิเคราะห์ข้อมูลในงานวิจัยด้านพืชด้วย R ของ ชูศักดิ์ จอมพุก\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n\nlibrary(knitr)\nlibrary(patchwork)\nlibrary(ggthemes)\nlibrary(rmarkdown)\nlibrary(rmarkdown)\ntheme_set(theme_few())\nknitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)\noptions(digits = 3)\n\n\nF10 <- c(605, 583, 592, 602, 587, 595, 615, 612, 606)\nF50 <- c(779, 780, 797, 779, 778, 801, 785, 779, 771)\ntest_data <- data.frame(F10, F50)\n\nแล้วจะได้รูปแบบของข้อมูลแบบนี้มา\n\ntest_data\n\n  F10 F50\n1 605 779\n2 583 780\n3 592 797\n4 602 779\n5 587 778\n6 595 801\n7 615 785\n8 612 779\n9 606 771\n\n\nบอกเลยว่า มันไม่ใช่โครงสร้างที่เราจะเหมาะจะมาวิเคราะห์ เลย หรือเอามาทำอะไรต่อ วิธีการ โดยการขอใช้ gather() จาก tidyverse package\n\nlibrary(tidyverse)\ntidy_data <- test_data %>% gather(key = \"trt\", value = \"yield\")\ntidy_data\n\n   trt yield\n1  F10   605\n2  F10   583\n3  F10   592\n4  F10   602\n5  F10   587\n6  F10   595\n7  F10   615\n8  F10   612\n9  F10   606\n10 F50   779\n11 F50   780\n12 F50   797\n13 F50   779\n14 F50   778\n15 F50   801\n16 F50   785\n17 F50   779\n18 F50   771\n\n\nแบบนี้มันถึงจะไปต่อแล้วรู้เรื่องการเชคความแปรปรวนนั้นมีหลายวิธี\n\n\nทดสอบได้แค่ 2 กลุ่ม เท่านั้น\n\nvar.test(yield ~ trt, data = tidy_data)\n\n\n    F test to compare two variances\n\ndata:  yield by trt\nF = 1, num df = 8, denom df = 8, p-value = 0.7\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 0.295 5.796\nsample estimates:\nratio of variances \n              1.31 \n\n\n\n\n\nอันนี้ แนะนำ ถ้านึกอะไรไม่ออก ให้นึกถึงอันนี้เลย โดยทั่วไปก็ใช้อันนี้กัน\n\nbartlett.test(yield ~ trt, data = tidy_data)\n\n\n    Bartlett test of homogeneity of variances\n\ndata:  yield by trt\nBartlett's K-squared = 0.1, df = 1, p-value = 0.7\n\n\nเห็นไหมว่าผลมันก็ใกล้เคียงกัน\n\n\n\nอันนี้ใช้ใน SPSS ใน R ก็จะมีใน car package\n\nlibrary(car)\nleveneTest(yield ~ trt, data = tidy_data)\n\nLevene's Test for Homogeneity of Variance (center = median)\n      Df F value Pr(>F)\ngroup  1    0.64   0.43\n      16               \n\n\np มันจะต่างออก แต่ก็ไม่ต่างกันซะทีเดียว\n\n\n\nวิธีนี้ ค่อนข้างจะ robust กว่าวิธีอื่นๆ ถึงแม้ว่าจะมีการกระจายไม่ค่อยจะ normal เท่าไหร่\n\nfligner.test(yield ~ trt, data = tidy_data)\n\n\n    Fligner-Killeen test of homogeneity of variances\n\ndata:  yield by trt\nFligner-Killeen:med chi-squared = 0.6, df = 1, p-value = 0.4\n\n\nส่วนตัวไม่ติด ว่าจะใช้วิธีไหน แต่ขอให้บอกว่า ใช้อะไรทดสอบก็ พอ จำไว้ว่าถ้า Homogeneity of Variance ไม่ผ่านแล้ว assumption ของ parametric test ก็ไม่ผ่านเช่นกัน อาจจะต้องหันไปใช้วิธี Nonparametric test แทน"
  },
  {
    "objectID": "Q_resourse.html",
    "href": "Q_resourse.html",
    "title": "Quarto resources",
    "section": "",
    "text": "The ultimate guide to starting a Quarto blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "9March19XX",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\nดึงข้อมูล xml จาก The Thai Astonomical society\n\n\n\n\n\n\nDec 3, 2021\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGithub, R and RStudio\n\n\n\n\n\n\nDec 1, 2021\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHomogeneity test in R\n\n\n\n\n\n\nOct 1, 2021\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "9March19XX",
    "section": "",
    "text": "บันทึกความคิดต่าง ๆ"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "posts",
    "section": "",
    "text": "ดึงข้อมูล xml จาก The Thai Astonomical society\n\n\n\n\n\n\n\nR\n\n\nWeb scraping\n\n\n\n\n\n\n\n\n\n\n\nDec 3, 2021\n\n\nSith Jaisong\n\n\n\n\n\n\n  \n\n\n\n\nGithub, R and RStudio\n\n\n\n\n\n\n\nR\n\n\nGithub\n\n\n\n\n\n\n\n\n\n\n\nDec 1, 2021\n\n\nKanth JS\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHomogeneity test in R\n\n\n\n\n\n\n\nR\n\n\nANOVA\n\n\n\n\n\n\n\n\n\n\n\nOct 1, 2021\n\n\nSith Jaisong\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "resources",
    "section": "",
    "text": "It’s finally time for an upgraded notebook! I’ve been Slacking myself (and subsequently burying) links to resources for far too long, so my favorites will now live here."
  },
  {
    "objectID": "resources.html#r-tools",
    "href": "resources.html#r-tools",
    "title": "resources",
    "section": "Screwdriver wrench r tools",
    "text": "Screwdriver wrench r tools\n\nfree icons from fontawesome + the {fontawesome} R package for infusing your slides, website, RMarkdowns/Quarto Markdowns, and more with an extra splash of fun"
  },
  {
    "objectID": "resources.html#data-viz",
    "href": "resources.html#data-viz",
    "title": "resources",
    "section": "Bar Chart data viz",
    "text": "Bar Chart data viz\n\nfrom Data to Viz, a choose-your-adventure-type experience for creating your best data visualizations\nThe Sessions College Color Calculator, for creating color palettes"
  },
  {
    "objectID": "resources.html#reporting-presentations",
    "href": "resources.html#reporting-presentations",
    "title": "resources",
    "section": "Desktop reporting & presentations",
    "text": "Desktop reporting & presentations\n\nQuarto is all the rage these days (and by these days, I mean post-March 2022). Download and find some great tutorials here to get started\nMeet xaringan: Making slides in R Markdown, by Allison Hill\nSharing Your xaringan Slides, by Garrick Aden-Buie"
  },
  {
    "objectID": "resources.html#learning-materials",
    "href": "resources.html#learning-materials",
    "title": "resources",
    "section": "Book Open learning materials",
    "text": "Book Open learning materials\n\nEver feel like you need a pick-me-up while learning stats or a new R tool? Look no further than Allison Horst’s Data Science Illustrations, featuring the cutest and most educational fuzzy monsters you’ll ever see!\nMastering Shiny, by Hadley Wickham\nHappy Git and GitHub for the useR, by Jenny Bryan\nR for Data Science, by Hadley Wickham\nW3Schools, particularly for their HTML & CSS tutorials"
  },
  {
    "objectID": "resources.html#data-science-communities",
    "href": "resources.html#data-science-communities",
    "title": "resources",
    "section": "Users data science communities",
    "text": "Users data science communities\nWhile these groups are primarily based in SoCal/Santa Barbara, there are tons of awesome groups like these all over the world. Google around to see what’s near you!\n\nR-Ladies Santa Barbara and R-Ladies Global, which work to promote gender diversity in the R community\nEcoDataScience, an environmental data science study group at UCSB\n\nSouthern California R Users, an alliance of R user groups in Southern California\n\nSanta Barbara Women in STEM, while not specifically data science-focused, this group holds some really great career and networking events, panels, flash talks, and more"
  },
  {
    "objectID": "resources.html#web-accessibility",
    "href": "resources.html#web-accessibility",
    "title": "resources",
    "section": "Window Maximize web accessibility",
    "text": "Window Maximize web accessibility\n\nThe A11Y Project is a community-driven effort to make digital content more accessible. I still have a long way to go in making my own website WCAG compliant – the A11Y Project not only has a ton of great blog posts, but also WCAG compliance checklist that I will definitely be returning to over and over again.\nCoblis, a color blindness simulator – just upload a file and view your color palettes as they would appear under different types of color deficiencies"
  },
  {
    "objectID": "resources.html#misc.",
    "href": "resources.html#misc.",
    "title": "resources",
    "section": "Face Smile misc.",
    "text": "Face Smile misc.\n\nDiscover new music to jam out to while you hack at Every Noise at Once (HT: Jeanette Clark)"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "ิblog",
    "section": "",
    "text": "ดึงข้อมูล xml จาก The Thai Astonomical society\n\n\n\n\n\n\n\nR\n\n\nWeb scraping\n\n\n\n\n\n\n\n\n\n\n\nDec 3, 2021\n\n\nSith Jaisong\n\n\n\n\n\n\n  \n\n\n\n\nGithub, R and RStudio\n\n\n\n\n\n\n\nR\n\n\nGithub\n\n\n\n\n\n\n\n\n\n\n\nDec 1, 2021\n\n\nKanth JS\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHomogeneity test in R\n\n\n\n\n\n\n\nR\n\n\nANOVA\n\n\n\n\n\n\n\n\n\n\n\nOct 1, 2021\n\n\nSith Jaisong\n\n\n\n\n\n\nNo matching items"
  }
]